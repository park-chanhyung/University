<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>새 과목 생성</title>
    <link rel="stylesheet" th:href="@{/admin_navbar.css}">
    <link rel="stylesheet" th:href="@{/subject_create.css}">
</head>
<body>
<div class="container my-5" layout:fragment="content" >
<!--    <h3 class="mb-4">새 과목 생성</h3>-->
    <form th:action="@{/subject/create}" th:object="${subjectForm}" method="post">
        <div class="row g-3">
            <div class="col-md-6">
                <label for="classification" class="form-label">분류</label>
                <select th:field="*{classification}" class="form-select">
                    <option value="">선택하세요</option>
                    <option value="전공필수">전공필수</option>
                    <option value="전공선택">전공선택</option>
                    <option value="교양필수">교양필수</option>
                    <option value="교양선택">교양선택</option>
                </select>
                <p class="text-danger" th:if="${#fields.hasErrors('classification')}" th:errors="*{classification}"></p>
            </div>
            <div class="col-md-6">
                <label for="subjectGrade" class="form-label">교과목 학년</label>
                <select th:field="*{subjectGrade}" class="form-select">
                    <option value="">선택하세요</option>
                    <option value="1학년">1학년</option>
                    <option value="2학년">2학년</option>
                    <option value="3학년">3학년</option>
                    <option value="4학년">4학년</option>
                    <option value="상관없음">상관없음</option>
                </select>
                <p class="text-danger" th:if="${#fields.hasErrors('subjectGrade')}" th:errors="*{subjectGrade}"></p>
            </div>
            <div class="col-md-6">
                <label for="subjectName" class="form-label">과목명</label>
                <input type="text" th:field="*{subjectName}" class="form-control">
                <p class="text-danger" th:if="${#fields.hasErrors('subjectName')}" th:errors="*{subjectName}"></p>
            </div>
            <div class="col-md-6">
                <label for="classNumber" class="form-label">교과목 번호</label>
                <input type="text" th:field="*{classNumber}" class="form-control">
                <p class="text-danger" th:if="${#fields.hasErrors('classNumber')}" th:errors="*{classNumber}"></p>
            </div>
            <div class="col-12">
                <label for="classOverview" class="form-label">수업개요</label>
                <textarea class="form-control" rows="3" id="classOverview" name="classOverview" style=" height: 300px;"></textarea>
                <p class="text-danger" th:if="${#fields.hasErrors('classOverview')}" th:errors="*{classOverview}"></p>
            </div>
            <div class="col-md-6">
                <label for="classLocation" class="form-label">수업 장소</label>
                <input type="text" th:field="*{classLocation}" class="form-control">
                <p class="text-danger" th:if="${#fields.hasErrors('classLocation')}" th:errors="*{classLocation}"></p>
            </div>
            <div class="col-md-6">
                <label for="classTime" class="form-label">수업 시간</label>
                <input type="text" th:field="*{classTime}" class="form-control">
                <p class="text-danger" th:if="${#fields.hasErrors('classTime')}" th:errors="*{classTime}"></p>
            </div>
            <div class="col-md-4">
                <label for="credits" class="form-label">학점</label>
                <input type="number" th:field="*{credits}" class="form-control">
                <p class="text-danger" th:if="${#fields.hasErrors('credits')}" th:errors="*{credits}"></p>
            </div>
            <div class="col-md-4">
                <label for="professorName" class="form-label">담당 교수</label>
                <input type="text" th:field="*{professorName}" class="form-control">
                <p class="text-danger" th:if="${#fields.hasErrors('professorName')}" th:errors="*{professorName}"></p>
            </div>
            <div class="col-md-4">
                <label for="totalCapacity" class="form-label">수강 정원</label>
                <input type="number" th:field="*{totalCapacity}" class="form-control">
                <p class="text-danger" th:if="${#fields.hasErrors('totalCapacity')}" th:errors="*{totalCapacity}"></p>
            </div>
            <div class="col-md-6">
                <label for="department" class="form-label">학과</label>
                <select th:field="*{department}" class="form-select">
                    <option value="">학과 선택</option>
                    <option value="간호학과">간호학과</option>
                    <option value="건축학과">건축학과</option>
                    <option value="기계공학과">기계공학과</option>
                    <option value="경영학과">경영학과</option>
                    <option value="연극영화과">연극영화과</option>
                    <option value="법학과">법학과</option>
                    <option value="전자공학과">전자공학과</option>
                    <option value="정보통신학과">정보통신학과</option>
                    <option value="호텔조리학과">호텔조리학과</option>
                    <option value="화학공학과">화학공학과</option>
                </select>
                <p class="text-danger" th:if="${#fields.hasErrors('department')}" th:errors="*{department}"></p>
            </div>
        </div>
        <button class="btn btn-primary mt-4" type="submit">과목 생성</button>
    </form>
</div>
</body>
<script>
    function toggleDepartment() {
        var classification = document.getElementById('classification').value;
        var departmentSelect = document.getElementById('department');
        if (classification === '전공필수' || classification === '전공선택') {
            departmentSelect.disabled = false;
        } else {
            departmentSelect.disabled = true;
            departmentSelect.value = '';
        }
    }

    // 페이지 로드 시 초기 상태 설정
    window.onload = toggleDepartment;
</script>
</html>